{{:ModuleInclude('public/header')}}

<!-- right content start  -->
<div class="content-right">
    <div class="content">
        <!-- save win start -->
        <div class="am-popup am-radius" id="data-save-win">
            <div class="am-popup-inner">
                <div class="am-popup-hd">
                    <h4 class="am-popup-title" data-add-title="{{:MyLang('articlecategory.base_nav_title')}}{{:MyLang('add_title')}}"
                        data-edit-title="{{:MyLang('articlecategory.base_nav_title')}}{{:MyLang('edit_title')}}">
                        {{:MyLang('articlecategory.base_nav_title')}}{{:MyLang('add_title')}}</h4>
                    <span data-am-modal-close class="am-close">&times;</span>
                </div>
                <div class="am-popup-bd">
                    <!-- form start -->
                    <form class="am-form form-validation am-form-popup-fixed" action="{{:MyUrl('admin/articlecategory/save')}}" method="POST"
                          request-type="ajax-fun" request-value="CardFormSaveBack">
                        <div class="am-form-group row">
                            <label>{{:MyLang('common_service.articlecategory.form_item_name')}}<span class="am-form-group-label-tips-must">*</span></label>
                            <input type="text" placeholder="{{:MyLang('common_service.articlecategory.form_item_name_message')}}" name="name" minlength="1"
                                   maxlength="60" data-validation-message="{{:MyLang('common_service.articlecategory.form_item_name_message')}}"
                                   class="am-radius" required/>
                        </div>
                        {{:ModuleInclude('lib/sort', ['is_row'=>1])}}
                        {{:ModuleInclude('lib/is_enable', ['is_row'=>1])}}
                        <div class="am-form-popup-submit">
                            <input type="hidden" name="id"/>
                            <button type="button" class="am-btn am-btn-warning am-radius am-btn-xs am-margin-right-lg" data-am-modal-close>
                                <i class="am-icon-paint-brush"></i>
                                <span>{{:MyLang('cancel_title')}}</span>
                            </button>
                            <button type="submit" class="am-btn am-btn-primary am-radius am-btn-xs btn-loading-example"
                                    data-am-loading="{spinner: 'circle-o-notch', loadingText:'{{:MyLang('save_title')}}'}">
                                <i class="am-icon-save"></i>
                                <span>{{:MyLang('save_title')}}</span>
                            </button>
                        </div>
                    </form>
                    <!-- form end -->
                </div>
            </div>
        </div>
        <!-- save win end -->

        <!-- list start -->
        <div id="card" data-node-url="{{:MyUrl('admin/articlecategory/getnodeson')}}" data-del-url="{{:MyUrl('admin/articlecategory/delete')}}"
             data-popup-tag="#data-save-win">
            {{:ModuleInclude('public/loading')}}
        </div>
        <!-- list end -->
    </div>
</div>
<!-- right content end  -->

<!-- footer start -->
{{:ModuleInclude('public/footer')}}

<script type="text/javascript">
    // 初始化
    Card(0, $('#card').data('node-url'), 0);

    // 回调处理
    function CardFormSaveBack(e) {
        CardFormSaveBackHandle(e);
    }
</script>